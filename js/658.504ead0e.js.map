{"version":3,"file":"js/658.504ead0e.js","mappings":"qMAIMA,EAAa,CAAEC,MAAO,YACtBC,EAAa,CAAC,OACdC,EAAa,CAAEF,MAAO,eACtBG,EAAa,CAAEH,MAAO,SACtBI,EAAa,CAAC,WACdC,EAAa,CAAEC,IAAK,GACpBC,EAAa,CAAC,WACdC,EAAa,CAAC,WACdC,EAAa,CAAET,MAAO,cACtBU,EAAc,CAAC,WAQrB,GAA4B,QAAiB,CAC3CC,OAAQ,eACRC,MAAA,SAAMC,GCmBR,IAAMC,GAAQ,UAGRC,GAAW,UAGjBC,MAAM,kCACHC,MAAK,SAACC,GAAQ,OAAAA,EAAIC,MAAJ,IACdF,MAAK,SAACG,GAELL,EAASM,MAAQD,EAAKL,QACxB,IAGF,IAAMO,GAAO,QAAI,GAGXC,GAAQ,SAAS,WACrB,OAAAR,EAASM,MAAQG,KAAKC,KAAKV,EAASM,MAAMK,OAAS,GAAK,CAAxD,IAIIC,GAAmB,SAAS,WAChC,OAAAZ,EAASM,MAAQN,EAASM,MAAMO,MAAmB,EAAbN,EAAKD,MAAwB,EAAbC,EAAKD,MAAY,GAAK,EAA5E,IDdF,OAAO,SAACQ,EAAUC,GAChB,OAAQ,WAAc,QAAoB,KAAW,KAAM,EACzD,QAAoB,MAAO/B,EAAY,GACpC,SAAW,IAAO,QAAoB,KAAW,MAAM,QAAY4B,EAAiBN,OAAO,SAACU,GAC3F,OAAQ,WAAc,QAAoB,MAAO,CAC/CzB,IAAKyB,EAAKC,GACVhC,MAAO,QACN,EACD,QAAoB,MAAO,CACzBiC,IAAKF,EAAKG,OAAO,IAChB,KAAM,EAAGjC,IACZ,QAAoB,SAAU,MAAM,QAAiB8B,EAAKI,OAAS,MAAO,QAAiBJ,EAAKK,OAAQ,IACxG,QAAoB,OAAQlC,GAAY,QAAiB6B,EAAKM,aAAc,IAC5E,QAAoB,OAAQlC,GAAY,SAAiB,QAAO,IAAP,CAA+B,IAAb4B,EAAKO,QAAgB,KAAM,IACpG,QAAOxB,GAAOyB,MAAMC,OAAOC,IAAIV,EAAKC,MAKjC,WAAc,QAAoB,MAAO3B,EAAY,EACpD,QAAoB,SAAU,CAC5BL,MAAO,QACP0C,QAAS,SAACC,GAAgB,OAAC,QAAO7B,GAAO8B,SAAS,gBAAiBb,EAAzC,GACzB,MAAO,EAAGxB,IACb,QAAiB,KAAM,SAAiB,QAAOO,GAAOyB,MAAMC,OAAOK,IAAId,EAAKC,IAAIc,OAAS,IAAK,IAC9F,QAAoB,SAAU,CAC5B9C,MAAO,QACP0C,QAAS,SAACC,GAAgB,OAAC,QAAO7B,GAAOiC,OAAO,YAAahB,EAAnC,GACzB,MAAO,EAAGvB,QAbd,WAAc,QAAoB,SAAU,CAC3CF,IAAK,EACLoC,QAAS,SAACC,GAAgB,OAAC,QAAO7B,GAAOiC,OAAO,aAAchB,EAApC,GACzB,cAAe,EAAG3B,KAa7B,IAAI,SAEN,QAAoB,MAAOK,EAAY,GACpC,SAAW,IAAO,QAAoB,KAAW,MAAM,QAAYc,EAAMF,OAAO,SAAC2B,GAChF,OAAQ,WAAc,QAAoB,MAAO,CAC/C1C,IAAK0C,EACLhD,OAAO,QAAgBgD,GAAK1B,EAAKD,MAAQ,EAAI,qBAAuB,QACpEqB,QAAS,SAACC,GAAgB,OAACrB,EAAKD,MAAQ2B,EAAI,CAAlB,IACzB,QAAiBA,GAAI,GAAItC,EAC9B,IAAI,SAEL,GACL,CACA,I,SEzFA,MAAMuC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://test2/./src/views/ProductsView.vue?6491","webpack://test2/./src/views/ProductsView.vue","webpack://test2/./src/views/ProductsView.vue?91db"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, unref as _unref, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-6fe936b8\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"products\" }\nconst _hoisted_2 = [\"src\"]\nconst _hoisted_3 = { class: \"description\" }\nconst _hoisted_4 = { class: \"price\" }\nconst _hoisted_5 = [\"onClick\"]\nconst _hoisted_6 = { key: 1 }\nconst _hoisted_7 = [\"onClick\"]\nconst _hoisted_8 = [\"onClick\"]\nconst _hoisted_9 = { class: \"pagination\" }\nconst _hoisted_10 = [\"onClick\"]\n\nimport { ref, computed } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { formatNum } from \"@/utils\";\n\n//Хранилище\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ProductsView',\n  setup(__props) {\n\nconst store = useStore();\n\n//Массив продуктов\nconst products = ref();\n\n//Получение актуальных продуктов\nfetch(\"https://dummyjson.com/products\")\n  .then((res) => res.json())\n  .then((data) => {\n    //id, brand, description, images, price, title\n    products.value = data.products;\n  });\n\n//Текущая страница\nconst page = ref(0);\n\n//Количество страниц\nconst pages = computed(() =>\n  products.value ? Math.ceil(products.value.length / 8) : 0\n);\n\n//Отображаемые продукты постранично\nconst computedProducts = computed(() =>\n  products.value ? products.value.slice(page.value * 8, page.value * 8 + 8) : []\n);\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(computedProducts.value, (prod) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          key: prod.id,\n          class: \"item\"\n        }, [\n          _createElementVNode(\"img\", {\n            src: prod.images[0]\n          }, null, 8, _hoisted_2),\n          _createElementVNode(\"strong\", null, _toDisplayString(prod.title) + \". \" + _toDisplayString(prod.brand), 1),\n          _createElementVNode(\"span\", _hoisted_3, _toDisplayString(prod.description), 1),\n          _createElementVNode(\"span\", _hoisted_4, _toDisplayString(_unref(formatNum)(prod.price * 100)) + \" ₽\", 1),\n          (!_unref(store).state.basket.has(prod.id))\n            ? (_openBlock(), _createElementBlock(\"button\", {\n                key: 0,\n                onClick: ($event: any) => (_unref(store).commit('addProduct', prod))\n              }, \" В корзину \", 8, _hoisted_5))\n            : (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n                _createElementVNode(\"button\", {\n                  class: \"width\",\n                  onClick: ($event: any) => (_unref(store).dispatch('minusOrDelete', prod))\n                }, \" - \", 8, _hoisted_7),\n                _createTextVNode(\" \" + _toDisplayString(_unref(store).state.basket.get(prod.id).count) + \" \", 1),\n                _createElementVNode(\"button\", {\n                  class: \"width\",\n                  onClick: ($event: any) => (_unref(store).commit('plusCount', prod))\n                }, \" + \", 8, _hoisted_8)\n              ]))\n        ]))\n      }), 128))\n    ]),\n    _createElementVNode(\"div\", _hoisted_9, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(pages.value, (n) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          key: n,\n          class: _normalizeClass(n == page.value + 1 ? 'page page__current' : 'page'),\n          onClick: ($event: any) => (page.value = n - 1)\n        }, _toDisplayString(n), 11, _hoisted_10))\n      }), 128))\n    ])\n  ], 64))\n}\n}\n\n})","<template>\n  <div class=\"products\">\n    <div v-for=\"prod in computedProducts\" :key=\"prod.id\" class=\"item\">\n      <img :src=\"prod.images[0]\" />\n      <strong>{{ prod.title }}. {{ prod.brand }}</strong>\n      <span class=\"description\">{{ prod.description }}</span>\n      <span class=\"price\">{{ formatNum(prod.price * 100) }} ₽</span>\n      <button\n        v-if=\"!store.state.basket.has(prod.id)\"\n        @click=\"store.commit('addProduct', prod)\"\n      >\n        В корзину\n      </button>\n      <div v-else>\n        <button class=\"width\" @click=\"store.dispatch('minusOrDelete', prod)\">\n          -\n        </button>\n        {{ store.state.basket.get(prod.id).count }}\n        <button class=\"width\" @click=\"store.commit('plusCount', prod)\">\n          +\n        </button>\n      </div>\n    </div>\n  </div>\n  <div class=\"pagination\">\n    <div\n      v-for=\"n in pages\"\n      :key=\"n\"\n      :class=\"n == page + 1 ? 'page page__current' : 'page'\"\n      @click=\"page = n - 1\"\n    >\n      {{ n }}\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { formatNum } from \"@/utils\";\n\n//Хранилище\nconst store = useStore();\n\n//Массив продуктов\nconst products = ref();\n\n//Получение актуальных продуктов\nfetch(\"https://dummyjson.com/products\")\n  .then((res) => res.json())\n  .then((data) => {\n    //id, brand, description, images, price, title\n    products.value = data.products;\n  });\n\n//Текущая страница\nconst page = ref(0);\n\n//Количество страниц\nconst pages = computed(() =>\n  products.value ? Math.ceil(products.value.length / 8) : 0\n);\n\n//Отображаемые продукты постранично\nconst computedProducts = computed(() =>\n  products.value ? products.value.slice(page.value * 8, page.value * 8 + 8) : []\n);\n</script>\n\n<style scoped>\n.products {\n  width: 70vw;\n  display: grid;\n  align-items: center;\n  grid-template-columns: repeat(4, 1fr);\n  grid-row-gap: 5px;\n  grid-column-gap: 5px;\n  margin-top: 2vh;\n\n  @media (max-width: 1024px) {\n    grid-template-columns: repeat(3, 1fr);\n  }\n\n  @media (max-width: 768px) {\n    grid-template-columns: repeat(2, 1fr);\n  }\n}\n\n.pagination {\n  display: flex;\n  justify-content: center;\n  padding: 10px 0;\n  height: 6vh;\n  min-height: 50px;\n  margin-top: 1vh;\n\n  .page {\n    padding: 5px;\n    margin: 0 5px;\n    border: 1px solid rgb(235, 235, 235);\n    background-color: rgb(0, 0, 51);\n    color: white;\n    cursor: pointer;\n    border-radius: 10px;\n    text-align: center;\n  }\n\n  .page__current {\n    background-color: orange;\n    border: 1.5px solid rgb(0, 0, 51);\n    font-weight: bold;\n  }\n}\n\n.item {\n  height: 40vh;\n  min-height: 300px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n  background-color: white;\n  padding: 10px;\n  text-align: center;\n  overflow: hidden;\n  border: 2px solid rgba(0, 0, 0, 0.2);\n  border-radius: 10px;\n\n  img {\n    display: block;\n    width: 8vw;\n  }\n  .description {\n    font-size: 0.8em;\n  }\n  .price {\n    color: #fc5a5a;\n    font-weight: bold;\n  }\n\n  &:hover {\n    border: 2px solid #fc5a5a;\n  }\n\n  @media (max-width: 1024px) {\n    min-height: 250px;\n  }\n\n  @media (max-width: 768px) {\n    min-height: 200px;\n  }\n}\n</style>\n","import script from \"./ProductsView.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ProductsView.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ProductsView.vue?vue&type=style&index=0&id=6fe936b8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6fe936b8\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","key","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","__name","setup","__props","store","products","fetch","then","res","json","data","value","page","pages","Math","ceil","length","computedProducts","slice","_ctx","_cache","prod","id","src","images","title","brand","description","price","state","basket","has","onClick","$event","dispatch","get","count","commit","n","__exports__"],"sourceRoot":""}