{"version":3,"file":"js/659.70b360a3.js","mappings":"qMAIMA,EAAa,CAAEC,IAAK,GACpBC,EAAa,CAAC,OACdC,EAAa,CAAEC,MAAO,WACtBC,EAAa,CAAED,MAAO,eACtBE,EAAa,CAAEF,MAAO,WACtBG,EAAa,CAAC,WACdC,EAAa,CAAC,WACdC,EAAa,CAAC,WACdC,EAAa,CAAEN,MAAO,SACtBO,EAAc,CAAEP,MAAO,SACvBQ,EAAc,CAAER,MAAO,OACvBS,EAAc,CAAC,YAQrB,GAA4B,QAAiB,CAC3CC,OAAQ,aACRC,MAAA,SAAMC,GCgBR,IAAMC,GAAQ,UAGRC,GAAW,UAGjBC,MAAM,kCACHC,MAAK,SAACC,GAAQ,OAAAA,EAAIC,MAAJ,IACdF,MAAK,SAACG,GAELL,EAASM,MAAQD,EAAKL,QACxB,IAGF,IAAMO,GAAa,SAAS,WAC1B,OAAAP,EAASM,MACLN,EAASM,MAAME,QAAO,SAACC,GAAsB,OAAAV,EAAMW,MAAMC,OAAOC,IAAIH,EAAEI,GAAzB,IAC7C,EAFJ,IDTF,OAAO,SAACC,EAAUC,GAChB,OAAQ,WAAc,QAAoB,KAAW,KAAM,CAC7B,GAA3BR,EAAWD,MAAMU,SACb,WAAc,QAAoB,MAAOlC,EAAY,oBACtD,QAAoB,IAAI,KAC3B,SAAW,IAAO,QAAoB,KAAW,MAAM,QAAYyB,EAAWD,OAAO,SAACW,GACrF,OAAQ,WAAc,QAAoB,MAAO,CAC/ClC,IAAKkC,EAAKJ,GACV3B,MAAO,UACN,EACD,QAAoB,MAAO,CACzBgC,IAAKD,EAAKE,OAAO,IAChB,KAAM,EAAGnC,IACZ,QAAoB,MAAOC,EAAY,EACrC,QAAoB,SAAU,MAAM,QAAiBgC,EAAKG,OAAS,MAAO,QAAiBH,EAAKI,OAAQ,IACxG,QAAoB,OAAQlC,GAAY,QAAiB8B,EAAKK,aAAc,MAE9E,QAAoB,MAAOlC,EAAY,EACrC,QAAoB,MAAO,KAAM,EAC/B,QAAoB,SAAU,CAC5BmC,QAAS,SAACC,GAAgB,OAAC,QAAOzB,GAAO0B,SAAS,gBAAiBR,EAAzC,GACzB,IAAK,EAAG5B,IACX,QAAiB,KAAM,SAAiB,QAAOU,GAAOW,MAAMC,OAAOe,IAAIT,EAAKJ,IAAIc,OAAS,IAAK,IAC9F,QAAoB,SAAU,CAC5BJ,QAAS,SAACC,GAAgB,OAAC,QAAOzB,GAAO6B,OAAO,YAAaX,EAAnC,GACzB,IAAK,EAAG3B,MAEb,QAAoB,SAAU,CAC5BiC,QAAS,SAACC,GAAgB,OAAC,QAAOzB,GAAO6B,OAAO,gBAAiBX,EAAKJ,GAA5C,GACzB,UAAW,EAAGtB,MAEnB,QAAoB,MAAOC,GAAY,SAAiB,QAAO,IAAP,CAA+B,IAAbyB,EAAKY,OAAc,QAAO9B,GAAOW,MAAMC,OAAOe,IAAIT,EAAKJ,IAAIc,QAAU,MAAO,IAE1J,IAAI,OACJ,QAAoB,MAAOlC,EAAa,eAAgB,SAAiB,QAAO,IAAP,EAAkB,QAAOM,GAAO+B,QAAQC,YAAc,QAAS,IACxI,QAAoB,MAAOrC,EAAa,EACtC,QAAoB,SAAU,CAC5BR,MAAO,UACPqC,QAASR,EAAO,KAAOA,EAAO,GAAK,SAACS,GAAgB,OAAC,QAAOzB,GAAO0B,SAAS,WAAxB,GACpDO,SAAqC,GAA3BzB,EAAWD,MAAMU,QAC1B,kBAAmB,EAAGrB,MAE1B,GACL,CACA,I,SErFA,MAAMsC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://test2/./src/views/BasketView.vue?3f71","webpack://test2/./src/views/BasketView.vue","webpack://test2/./src/views/BasketView.vue?6ba0"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, unref as _unref, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-1501db34\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { key: 0 }\nconst _hoisted_2 = [\"src\"]\nconst _hoisted_3 = { class: \"product\" }\nconst _hoisted_4 = { class: \"description\" }\nconst _hoisted_5 = { class: \"actions\" }\nconst _hoisted_6 = [\"onClick\"]\nconst _hoisted_7 = [\"onClick\"]\nconst _hoisted_8 = [\"onClick\"]\nconst _hoisted_9 = { class: \"price\" }\nconst _hoisted_10 = { class: \"total\" }\nconst _hoisted_11 = { class: \"pay\" }\nconst _hoisted_12 = [\"disabled\"]\n\nimport { ref, computed } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { formatNum } from \"@/utils\";\n\n//Хранилище\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BasketView',\n  setup(__props) {\n\nconst store = useStore();\n\n//Массив продуктов\nconst products = ref();\n\n//Получение актуальных продуктов\nfetch(\"https://dummyjson.com/products\")\n  .then((res) => res.json())\n  .then((data) => {\n    //id, brand, description, images, price, title\n    products.value = data.products;\n  });\n\n//Продукты отложенные в корзину\nconst myProducts = computed(() =>\n  products.value\n    ? products.value.filter((f: { id: number }) => store.state.basket.has(f.id))\n    : []\n);\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    (myProducts.value.length == 0)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, \"Корзина пуста.\"))\n      : _createCommentVNode(\"\", true),\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(myProducts.value, (prod) => {\n      return (_openBlock(), _createElementBlock(\"div\", {\n        key: prod.id,\n        class: \"basket\"\n      }, [\n        _createElementVNode(\"img\", {\n          src: prod.images[0]\n        }, null, 8, _hoisted_2),\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createElementVNode(\"strong\", null, _toDisplayString(prod.title) + \". \" + _toDisplayString(prod.brand), 1),\n          _createElementVNode(\"span\", _hoisted_4, _toDisplayString(prod.description), 1)\n        ]),\n        _createElementVNode(\"div\", _hoisted_5, [\n          _createElementVNode(\"div\", null, [\n            _createElementVNode(\"button\", {\n              onClick: ($event: any) => (_unref(store).dispatch('minusOrDelete', prod))\n            }, \"-\", 8, _hoisted_6),\n            _createTextVNode(\" \" + _toDisplayString(_unref(store).state.basket.get(prod.id).count) + \" \", 1),\n            _createElementVNode(\"button\", {\n              onClick: ($event: any) => (_unref(store).commit('plusCount', prod))\n            }, \"+\", 8, _hoisted_7)\n          ]),\n          _createElementVNode(\"button\", {\n            onClick: ($event: any) => (_unref(store).commit('deleteProduct', prod.id))\n          }, \"Удалить\", 8, _hoisted_8)\n        ]),\n        _createElementVNode(\"div\", _hoisted_9, _toDisplayString(_unref(formatNum)(prod.price * 100 * _unref(store).state.basket.get(prod.id).count)) + \" ₽ \", 1)\n      ]))\n    }), 128)),\n    _createElementVNode(\"div\", _hoisted_10, \" К оплате: \" + _toDisplayString(_unref(formatNum)(_unref(store).getters.sumBasket)) + \" ₽   \", 1),\n    _createElementVNode(\"div\", _hoisted_11, [\n      _createElementVNode(\"button\", {\n        class: \"pinkbtn\",\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (_unref(store).dispatch('addOrder'))),\n        disabled: myProducts.value.length == 0\n      }, \" Создать заказ \", 8, _hoisted_12)\n    ])\n  ], 64))\n}\n}\n\n})","<template>\n  <div v-if=\"myProducts.length == 0\">Корзина пуста.</div>\n  <div v-for=\"prod in myProducts\" :key=\"prod.id\" class=\"basket\">\n    <img :src=\"prod.images[0]\" />\n    <div class=\"product\">\n      <strong>{{ prod.title }}. {{ prod.brand }}</strong>\n      <span class=\"description\">{{ prod.description }}</span>\n    </div>\n    <div class=\"actions\">\n      <div>\n        <button @click=\"store.dispatch('minusOrDelete', prod)\">-</button>\n        {{ store.state.basket.get(prod.id).count }}\n        <button @click=\"store.commit('plusCount', prod)\">+</button>\n      </div>\n      <button @click=\"store.commit('deleteProduct', prod.id)\">Удалить</button>\n    </div>\n    <div class=\"price\">\n      {{ formatNum(prod.price * 100 * store.state.basket.get(prod.id).count) }}\n      ₽\n    </div>\n  </div>\n  <div class=\"total\">\n    К оплате: {{ formatNum(store.getters.sumBasket) }} ₽ &nbsp;\n  </div>\n  <div class=\"pay\">\n    <button\n      class=\"pinkbtn\"\n      @click=\"store.dispatch('addOrder')\"\n      :disabled=\"myProducts.length == 0\"\n    >\n      Создать заказ\n    </button>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { formatNum } from \"@/utils\";\n\n//Хранилище\nconst store = useStore();\n\n//Массив продуктов\nconst products = ref();\n\n//Получение актуальных продуктов\nfetch(\"https://dummyjson.com/products\")\n  .then((res) => res.json())\n  .then((data) => {\n    //id, brand, description, images, price, title\n    products.value = data.products;\n  });\n\n//Продукты отложенные в корзину\nconst myProducts = computed(() =>\n  products.value\n    ? products.value.filter((f: { id: number }) => store.state.basket.has(f.id))\n    : []\n);\n</script>\n\n<style scoped>\n.basket {\n  width: 60vw;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  background-color: white;\n  border: 2px solid rgba(0, 0, 0, 0.2);\n  padding: 10px;\n  margin-top: 15px;\n  border-radius: 10px;\n\n  img {\n    width: 5vw;\n    margin-right: 10px;\n  }\n}\n\n.product {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: flex-start;\n\n  .description {\n    font-size: 0.8em;\n  }\n}\n\n.price {\n  font-weight: bold;\n  margin-left: 10px;\n  white-space: nowrap;\n}\n\n.total {\n  width: 60vw;\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 15px;\n  padding: 10px;\n  background-color: white;\n  border: 2px solid rgba(0, 0, 0, 0.2);\n  font-weight: bold;\n  border-radius: 10px;\n}\n\n.pay {\n  width: 60vw;\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 15px;\n  font-size: 1.1em;\n}\n\n.actions {\n  display: flex;\n  flex-direction: column;\n  margin-left: auto;\n  align-items: center;\n  padding: 0 10px;\n  grid-gap: 5px;\n\n  div {\n    white-space: nowrap;\n  }\n}\n</style>\n","import script from \"./BasketView.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./BasketView.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./BasketView.vue?vue&type=style&index=0&id=1501db34&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1501db34\"]])\n\nexport default __exports__"],"names":["_hoisted_1","key","_hoisted_2","_hoisted_3","class","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","__name","setup","__props","store","products","fetch","then","res","json","data","value","myProducts","filter","f","state","basket","has","id","_ctx","_cache","length","prod","src","images","title","brand","description","onClick","$event","dispatch","get","count","commit","price","getters","sumBasket","disabled","__exports__"],"sourceRoot":""}